<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>KPI ì •í•©ì„± ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ â€” í¬íŠ¸í´ë¦¬ì˜¤</title>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Noto+Sans+KR:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet" />
  <!-- Lucide Icons -->
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.7/dist/chart.umd.min.js"></script>

  <style>
    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• RESET & BASE â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
    html { scroll-behavior: smooth; font-size: 16px; }
    body {
      font-family: 'Noto Sans KR', 'Inter', -apple-system, sans-serif;
      background: #0b0f1a;
      color: #d1d5e0;
      line-height: 1.7;
      -webkit-font-smoothing: antialiased;
    }
    a { color: inherit; text-decoration: none; }
    code, pre {
      font-family: 'JetBrains Mono', 'Fira Code', monospace;
    }
    img { max-width: 100%; }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• UTILITIES â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .container { max-width: 1120px; margin: 0 auto; padding: 0 24px; }
    .badge {
      display: inline-flex; align-items: center; gap: 4px;
      padding: 3px 10px; border-radius: 6px;
      font-size: 0.72rem; font-weight: 600; letter-spacing: 0.02em;
    }
    .badge-critical { background: rgba(239,68,68,.15); color: #f87171; border: 1px solid rgba(239,68,68,.25); }
    .badge-warning  { background: rgba(245,158,11,.12); color: #fbbf24; border: 1px solid rgba(245,158,11,.22); }
    .badge-info     { background: rgba(59,130,246,.12); color: #60a5fa; border: 1px solid rgba(59,130,246,.22); }
    .badge-pass     { background: rgba(16,185,129,.12); color: #34d399; border: 1px solid rgba(16,185,129,.22); }
    .section-label {
      display: inline-flex; align-items: center; gap: 6px;
      font-size: 0.7rem; font-weight: 700; letter-spacing: 0.12em;
      text-transform: uppercase; color: #60a5fa; margin-bottom: 10px;
    }
    .section-title {
      font-size: 1.85rem; font-weight: 800; color: #f0f2f8;
      line-height: 1.3; margin-bottom: 14px;
    }
    .section-desc {
      font-size: 0.95rem; color: #8b93a7; max-width: 680px; margin-bottom: 36px;
    }
    .glass-card {
      background: rgba(255,255,255,.03);
      border: 1px solid rgba(255,255,255,.06);
      border-radius: 16px;
      backdrop-filter: blur(12px);
      transition: border-color .25s, box-shadow .25s, transform .25s;
    }
    .glass-card:hover {
      border-color: rgba(96,165,250,.2);
      box-shadow: 0 0 30px rgba(96,165,250,.06);
      transform: translateY(-2px);
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• NAV â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    nav {
      position: fixed; top: 0; left: 0; right: 0; z-index: 100;
      background: rgba(11,15,26,.82);
      backdrop-filter: blur(16px);
      border-bottom: 1px solid rgba(255,255,255,.05);
    }
    nav .nav-inner {
      max-width: 1120px; margin: 0 auto; padding: 0 24px;
      display: flex; align-items: center; justify-content: space-between;
      height: 56px;
    }
    nav .logo {
      font-size: 0.85rem; font-weight: 700; color: #f0f2f8;
      display: flex; align-items: center; gap: 8px;
    }
    nav .logo i { color: #60a5fa; }
    nav .nav-links { display: flex; gap: 26px; }
    nav .nav-links a {
      font-size: 0.78rem; font-weight: 500; color: #8b93a7;
      transition: color .2s;
    }
    nav .nav-links a:hover { color: #f0f2f8; }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• HERO â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .hero {
      padding: 140px 0 80px;
      background:
        radial-gradient(ellipse 60% 50% at 50% -10%, rgba(59,130,246,.10) 0%, transparent 70%),
        radial-gradient(ellipse 40% 40% at 70% 20%, rgba(139,92,246,.07) 0%, transparent 70%);
    }
    .hero .overline {
      font-size: 0.72rem; font-weight: 600; letter-spacing: 0.15em;
      color: #60a5fa; text-transform: uppercase; margin-bottom: 14px;
    }
    .hero h1 {
      font-size: clamp(2rem, 4.5vw, 3rem); font-weight: 800;
      color: #f0f2f8; line-height: 1.2; margin-bottom: 16px;
    }
    .hero h1 em {
      font-style: normal;
      background: linear-gradient(135deg, #60a5fa, #a78bfa);
      -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    }
    .hero .subtitle {
      font-size: 1.05rem; color: #8b93a7; max-width: 620px;
      margin-bottom: 28px; line-height: 1.7;
    }
    .hero .meta-row {
      display: flex; flex-wrap: wrap; gap: 20px; margin-bottom: 32px;
    }
    .hero .meta-item {
      display: flex; align-items: center; gap: 6px;
      font-size: 0.78rem; color: #6b7490;
    }
    .hero .meta-item i { width: 15px; height: 15px; color: #475176; }
    .hero .btn-row { display: flex; gap: 12px; flex-wrap: wrap; }
    .hero .btn {
      display: inline-flex; align-items: center; gap: 7px;
      padding: 10px 22px; border-radius: 10px;
      font-size: 0.82rem; font-weight: 600;
      transition: all .2s;
    }
    .hero .btn-primary {
      background: linear-gradient(135deg, #3b82f6, #6366f1);
      color: #fff; border: none;
    }
    .hero .btn-primary:hover { box-shadow: 0 4px 24px rgba(59,130,246,.35); transform: translateY(-1px); }
    .hero .btn-outline {
      border: 1px solid rgba(255,255,255,.12); color: #c4c9d8;
      background: rgba(255,255,255,.03);
    }
    .hero .btn-outline:hover { border-color: rgba(255,255,255,.25); background: rgba(255,255,255,.06); }

    /* â”€â”€ Pipeline Flow â”€â”€ */
    .pipeline-flow {
      margin-top: 48px; padding: 28px 32px;
      background: rgba(255,255,255,.02);
      border: 1px solid rgba(255,255,255,.05);
      border-radius: 14px;
    }
    .pipeline-flow .flow-label {
      font-size: 0.68rem; font-weight: 600; letter-spacing: 0.1em;
      color: #475176; text-transform: uppercase; margin-bottom: 18px;
    }
    .pipeline-steps {
      display: flex; align-items: center; gap: 0; flex-wrap: wrap;
    }
    .pipeline-step {
      display: flex; align-items: center; gap: 10px;
      padding: 10px 18px; border-radius: 10px;
      background: rgba(255,255,255,.04);
      border: 1px solid rgba(255,255,255,.07);
      font-size: 0.78rem; font-weight: 600; color: #c4c9d8;
      white-space: nowrap;
    }
    .pipeline-step i { width: 16px; height: 16px; }
    .pipeline-step.step-sql i { color: #60a5fa; }
    .pipeline-step.step-py i { color: #a78bfa; }
    .pipeline-step.step-branch i { color: #fbbf24; }
    .pipeline-step.step-alert i { color: #f87171; }
    .pipeline-step.step-report i { color: #34d399; }
    .pipeline-arrow {
      color: #2d3454; font-size: 1.1rem; margin: 0 6px;
      flex-shrink: 0;
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• SECTION: BACKGROUND â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    section { padding: 80px 0; }
    section:nth-child(even) { background: rgba(255,255,255,.01); }

    .bg-grid {
      display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
    }
    .bg-card {
      padding: 28px;
    }
    .bg-card .icon-wrap {
      width: 44px; height: 44px; border-radius: 12px;
      display: flex; align-items: center; justify-content: center;
      margin-bottom: 16px;
    }
    .bg-card .icon-wrap i { width: 22px; height: 22px; }
    .bg-card h3 { font-size: 1rem; font-weight: 700; color: #e8eaf0; margin-bottom: 8px; }
    .bg-card p { font-size: 0.85rem; color: #7c849a; line-height: 1.65; }
    .icon-red    { background: rgba(239,68,68,.1); color: #f87171; }
    .icon-blue   { background: rgba(59,130,246,.1); color: #60a5fa; }
    .icon-purple { background: rgba(139,92,246,.1); color: #a78bfa; }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• ARCHITECTURE â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .arch-img-wrap {
      padding: 0; overflow: hidden; border-radius: 16px;
      background: rgba(255,255,255,.03);
    }
    .arch-img {
      display: block; width: 100%; height: auto;
      border-radius: 14px;
      transition: transform .3s ease;
    }
    .arch-img:hover { transform: scale(1.02); }
    .arch-diagram {
      padding: 36px;
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.72rem; line-height: 1.65;
      color: #8b93a7; overflow-x: auto;
      white-space: pre;
    }
    .arch-diagram .hl-blue { color: #60a5fa; }
    .arch-diagram .hl-purple { color: #a78bfa; }
    .arch-diagram .hl-yellow { color: #fbbf24; }
    .arch-diagram .hl-red { color: #f87171; }
    .arch-diagram .hl-green { color: #34d399; }
    .arch-diagram .hl-dim { color: #3d4562; }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• KPI CARDS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .kpi-grid {
      display: grid; grid-template-columns: repeat(auto-fill, minmax(310px, 1fr));
      gap: 18px;
    }
    .kpi-card { padding: 26px 24px; }
    .kpi-card .kpi-num {
      display: inline-flex; align-items: center; justify-content: center;
      width: 30px; height: 30px; border-radius: 8px;
      font-size: 0.75rem; font-weight: 800;
      margin-bottom: 14px;
    }
    .kpi-card h3 {
      font-size: 0.95rem; font-weight: 700; color: #e8eaf0; margin-bottom: 6px;
    }
    .kpi-card .kpi-def {
      font-size: 0.8rem; color: #7c849a; margin-bottom: 12px;
    }
    .kpi-card .sql-tag {
      display: inline-block; padding: 4px 10px; border-radius: 6px;
      background: rgba(59,130,246,.08); border: 1px solid rgba(59,130,246,.15);
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.68rem; color: #60a5fa;
    }
    .kpi-card .unit {
      float: right; font-size: 0.7rem; color: #5b6380;
      margin-top: 2px;
    }
    .num-blue   { background: rgba(59,130,246,.12); color: #60a5fa; }
    .num-purple { background: rgba(139,92,246,.12); color: #a78bfa; }
    .num-teal   { background: rgba(20,184,166,.12); color: #2dd4bf; }
    .num-amber  { background: rgba(245,158,11,.12); color: #fbbf24; }
    .num-rose   { background: rgba(244,63,94,.12);  color: #fb7185; }
    .num-green  { background: rgba(16,185,129,.12); color: #34d399; }
    .num-orange { background: rgba(249,115,22,.12); color: #fb923c; }

    /* â”€â”€ SQL Showcase â”€â”€ */
    .sql-showcase {
      margin-top: 36px; padding: 28px 30px;
      border-radius: 14px;
      background: rgba(15,20,35,.7);
      border: 1px solid rgba(255,255,255,.05);
    }
    .sql-showcase .showcase-title {
      font-size: 0.72rem; font-weight: 600; letter-spacing: 0.08em;
      color: #475176; margin-bottom: 18px; text-transform: uppercase;
    }
    .sql-showcase pre {
      font-size: 0.75rem; line-height: 1.7; color: #8b93a7; overflow-x: auto;
    }
    .sql-showcase .kw   { color: #c084fc; font-weight: 600; }
    .sql-showcase .fn   { color: #60a5fa; }
    .sql-showcase .str  { color: #34d399; }
    .sql-showcase .cmt  { color: #3d4562; font-style: italic; }
    .sql-showcase .num  { color: #fbbf24; }
    .sql-showcase .tbl  { color: #f0f2f8; }
    .sql-showcase .alias { color: #f9a8d4; }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• INTEGRITY CHECKS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .check-table-wrap {
      overflow-x: auto; border-radius: 14px;
      border: 1px solid rgba(255,255,255,.06);
    }
    .check-table {
      width: 100%; border-collapse: collapse;
      font-size: 0.8rem;
    }
    .check-table thead {
      background: rgba(255,255,255,.03);
    }
    .check-table th {
      padding: 14px 18px; text-align: left;
      font-weight: 600; color: #7c849a;
      font-size: 0.72rem; letter-spacing: 0.05em;
      text-transform: uppercase;
      border-bottom: 1px solid rgba(255,255,255,.06);
    }
    .check-table td {
      padding: 13px 18px;
      border-bottom: 1px solid rgba(255,255,255,.03);
      color: #b0b7c9;
    }
    .check-table tbody tr:hover {
      background: rgba(59,130,246,.03);
    }
    .check-table .mono {
      font-family: 'JetBrains Mono', monospace; font-size: 0.72rem;
    }

    /* â”€â”€ Severity Breakdown â”€â”€ */
    .severity-cards {
      display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px;
      margin-top: 32px;
    }
    .sev-card {
      padding: 24px; border-radius: 14px; text-align: center;
    }
    .sev-card h4 { font-size: 0.8rem; font-weight: 700; margin-bottom: 6px; }
    .sev-card .sev-action { font-size: 0.75rem; color: #6b7490; margin-bottom: 10px; }
    .sev-card .sev-checks { font-size: 0.72rem; color: #5b6380; line-height: 1.6; }
    .sev-critical { border: 1px solid rgba(239,68,68,.2); background: rgba(239,68,68,.04); }
    .sev-critical h4 { color: #f87171; }
    .sev-warning { border: 1px solid rgba(245,158,11,.2); background: rgba(245,158,11,.04); }
    .sev-warning h4 { color: #fbbf24; }
    .sev-info { border: 1px solid rgba(59,130,246,.2); background: rgba(59,130,246,.04); }
    .sev-info h4 { color: #60a5fa; }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• TABLEAU â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .dash-tabs {
      display: flex; gap: 6px; margin-bottom: 0;
      border-bottom: 1px solid rgba(255,255,255,.06);
      padding-bottom: 0;
    }
    .dash-tab {
      display: inline-flex; align-items: center; gap: 6px;
      padding: 11px 20px; border: none; cursor: pointer;
      font-family: inherit; font-size: 0.78rem; font-weight: 600;
      color: #6b7490; background: transparent;
      border-bottom: 2px solid transparent;
      transition: all .2s;
    }
    .dash-tab:hover { color: #c4c9d8; }
    .dash-tab.active {
      color: #60a5fa;
      border-bottom-color: #60a5fa;
      background: rgba(59,130,246,.04);
    }
    .dash-panel { display: none; padding-top: 24px; }
    .dash-panel.active { display: block; }
    .dash-header {
      display: flex; justify-content: space-between; align-items: flex-start;
      margin-bottom: 20px; flex-wrap: wrap; gap: 12px;
    }
    .dash-title { font-size: 1.1rem; font-weight: 700; color: #e8eaf0; }
    .dash-sub { font-size: 0.78rem; color: #6b7490; margin-top: 4px; }
    .dash-period {
      font-size: 0.72rem; font-weight: 600; color: #475176;
      padding: 6px 14px; border-radius: 8px;
      background: rgba(255,255,255,.03); border: 1px solid rgba(255,255,255,.06);
    }
    .view-tag-inline {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.68rem; color: #a78bfa;
      background: rgba(139,92,246,.08); padding: 2px 8px; border-radius: 4px;
    }
    .scorecard-row {
      display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px;
      margin-bottom: 20px;
    }
    .scorecard {
      padding: 18px 20px; border-radius: 12px;
      background: rgba(255,255,255,.03); border: 1px solid rgba(255,255,255,.06);
    }
    .sc-label { font-size: 0.68rem; color: #6b7490; margin-bottom: 6px; }
    .sc-value { font-size: 1.5rem; font-weight: 800; color: #e8eaf0; }
    .sc-unit { font-size: 0.72rem; font-weight: 600; color: #6b7490; margin-left: 2px; }
    .sc-change { font-size: 0.68rem; font-weight: 600; margin-top: 4px; }
    .sc-change.positive { color: #34d399; }
    .sc-change.negative { color: #f87171; }
    .sc-change.neutral { color: #6b7490; }
    .chart-row-2 {
      display: grid; grid-template-columns: 1fr 1fr; gap: 16px;
    }
    .chart-box { padding: 22px 24px; }
    .chart-box.chart-box-sm { max-width: 100%; }
    .chart-title {
      font-size: 0.72rem; font-weight: 600; color: #6b7490;
      margin-bottom: 14px; letter-spacing: 0.02em;
    }
    .heatmap-wrap, .matrix-wrap { overflow-x: auto; }
    .hm-table, .mx-table { border-collapse: collapse; width: 100%; font-size: 0.7rem; }
    .hm-table th, .mx-table th {
      padding: 8px 10px; text-align: center; font-weight: 600;
      color: #6b7490; font-size: 0.65rem; letter-spacing: 0.03em;
      border-bottom: 1px solid rgba(255,255,255,.06);
    }
    .hm-table td, .mx-table td {
      padding: 7px 10px; text-align: center;
      border-bottom: 1px solid rgba(255,255,255,.03); color: #b0b7c9;
    }
    .hm-table td.row-header, .mx-table td.row-header {
      text-align: left; font-weight: 600; color: #8b93a7;
    }

    @media (max-width: 768px) {
      .scorecard-row { grid-template-columns: repeat(2, 1fr); }
      .chart-row-2 { grid-template-columns: 1fr; }
      .dash-tabs { overflow-x: auto; flex-wrap: nowrap; }
      .dash-tab { white-space: nowrap; font-size: 0.72rem; padding: 10px 14px; }
    }

    .tableau-grid {
      display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 18px;
    }
    .tableau-card { padding: 28px; position: relative; overflow: hidden; }
    .tableau-card::before {
      content: ''; position: absolute; top: 0; left: 0; right: 0;
      height: 3px;
    }
    .tableau-card.tc-overview::before { background: linear-gradient(90deg, #3b82f6, #6366f1); }
    .tableau-card.tc-growth::before  { background: linear-gradient(90deg, #10b981, #14b8a6); }
    .tableau-card.tc-quality::before { background: linear-gradient(90deg, #f59e0b, #ef4444); }
    .tableau-card .tc-icon {
      width: 40px; height: 40px; border-radius: 10px;
      display: flex; align-items: center; justify-content: center;
      margin-bottom: 16px;
    }
    .tableau-card .tc-icon i { width: 20px; height: 20px; }
    .tc-overview .tc-icon { background: rgba(59,130,246,.1); color: #60a5fa; }
    .tc-growth  .tc-icon { background: rgba(16,185,129,.1); color: #34d399; }
    .tc-quality .tc-icon { background: rgba(245,158,11,.1); color: #fbbf24; }
    .tableau-card h3 { font-size: 0.95rem; font-weight: 700; color: #e8eaf0; margin-bottom: 8px; }
    .tableau-card p  { font-size: 0.82rem; color: #7c849a; line-height: 1.6; }
    .tableau-card ul {
      list-style: none; margin-top: 14px;
    }
    .tableau-card li {
      font-size: 0.78rem; color: #8b93a7; padding: 5px 0;
      display: flex; align-items: flex-start; gap: 8px;
    }
    .tableau-card li::before {
      content: ''; width: 5px; height: 5px; border-radius: 50%;
      background: #3d4562; margin-top: 7px; flex-shrink: 0;
    }
    .view-tag {
      display: inline-block; margin-top: 14px;
      padding: 5px 12px; border-radius: 6px;
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.68rem; color: #a78bfa;
      background: rgba(139,92,246,.08);
      border: 1px solid rgba(139,92,246,.15);
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• TECH STACK â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .stack-grid {
      display: grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
      gap: 14px;
    }
    .stack-item {
      padding: 20px 16px; text-align: center;
    }
    .stack-item .stack-icon {
      width: 42px; height: 42px; margin: 0 auto 12px;
      border-radius: 10px; display: flex; align-items: center; justify-content: center;
      font-size: 1.2rem; font-weight: 800;
    }
    .stack-item h4 { font-size: 0.82rem; font-weight: 700; color: #e0e3ec; margin-bottom: 4px; }
    .stack-item p  { font-size: 0.7rem; color: #6b7490; }
    .si-pg   { background: rgba(59,130,246,.1); color: #60a5fa; }
    .si-py   { background: rgba(245,158,11,.1); color: #fbbf24; }
    .si-air  { background: rgba(16,185,129,.1); color: #34d399; }
    .si-tab  { background: rgba(139,92,246,.1); color: #a78bfa; }
    .si-dock { background: rgba(59,130,246,.1); color: #60a5fa; }
    .si-test { background: rgba(244,63,94,.1);  color: #fb7185; }
    .si-yaml { background: rgba(245,158,11,.1); color: #fbbf24; }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• DESIGN DECISIONS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .decision-grid {
      display: grid; grid-template-columns: repeat(auto-fill, minmax(480px, 1fr));
      gap: 18px;
    }
    .decision-card { padding: 28px; }
    .decision-card .q {
      font-size: 0.9rem; font-weight: 700; color: #e8eaf0;
      margin-bottom: 10px; display: flex; align-items: flex-start; gap: 10px;
    }
    .decision-card .q i { color: #60a5fa; flex-shrink: 0; margin-top: 2px; }
    .decision-card .a {
      font-size: 0.82rem; color: #7c849a; line-height: 1.7;
      padding-left: 30px;
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• TESTS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .test-summary {
      display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px;
      margin-bottom: 28px;
    }
    .test-stat {
      padding: 22px; text-align: center;
    }
    .test-stat .num { font-size: 1.6rem; font-weight: 800; color: #e8eaf0; }
    .test-stat .label { font-size: 0.72rem; color: #6b7490; margin-top: 4px; }
    .test-categories {
      display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 12px;
    }
    .test-cat {
      padding: 16px 20px; display: flex; align-items: center; gap: 10px;
    }
    .test-cat .dot {
      width: 8px; height: 8px; border-radius: 50%; flex-shrink: 0;
    }
    .test-cat .cat-name { font-size: 0.8rem; color: #b0b7c9; flex: 1; }
    .test-cat .cat-count { font-size: 0.75rem; font-weight: 700; color: #8b93a7; }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• PRACTICAL â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .practical-table-wrap {
      overflow-x: auto; border-radius: 14px;
      border: 1px solid rgba(255,255,255,.06);
    }
    .practical-table {
      width: 100%; border-collapse: collapse; font-size: 0.8rem;
    }
    .practical-table th {
      padding: 14px 20px; text-align: left;
      font-weight: 600; color: #7c849a; font-size: 0.72rem;
      letter-spacing: 0.05em; text-transform: uppercase;
      background: rgba(255,255,255,.03);
      border-bottom: 1px solid rgba(255,255,255,.06);
    }
    .practical-table td {
      padding: 14px 20px;
      border-bottom: 1px solid rgba(255,255,255,.03);
      color: #b0b7c9; vertical-align: top;
    }
    .practical-table tbody tr:hover { background: rgba(59,130,246,.03); }
    .practical-table .highlight { color: #60a5fa; font-weight: 600; }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• FOOTER â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    footer {
      padding: 48px 0; text-align: center;
      border-top: 1px solid rgba(255,255,255,.05);
    }
    footer .footer-links {
      display: flex; justify-content: center; gap: 24px; margin-bottom: 16px;
    }
    footer .footer-links a {
      display: inline-flex; align-items: center; gap: 6px;
      font-size: 0.82rem; color: #6b7490; transition: color .2s;
    }
    footer .footer-links a:hover { color: #60a5fa; }
    footer .copyright { font-size: 0.72rem; color: #3d4562; }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• RESPONSIVE â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    @media (max-width: 768px) {
      .hero h1 { font-size: 1.6rem; }
      .pipeline-steps { gap: 8px; }
      .pipeline-arrow { display: none; }
      .pipeline-step { font-size: 0.7rem; padding: 8px 12px; }
      .severity-cards { grid-template-columns: 1fr; }
      .decision-grid { grid-template-columns: 1fr; }
      .test-summary { grid-template-columns: repeat(2, 1fr); }
      nav .nav-links { display: none; }
      .kpi-grid { grid-template-columns: 1fr; }
      .sql-showcase pre { font-size: 0.65rem; }
    }
  </style>
</head>
<body>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• NAV â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<nav>
  <div class="nav-inner">
    <div class="logo">
      <i data-lucide="bar-chart-3" style="width:18px;height:18px;"></i>
      KPI ì •í•©ì„± ëª¨ë‹ˆí„°ë§
    </div>
    <div class="nav-links">
      <a href="#background">ë°°ê²½</a>
      <a href="#architecture">ì•„í‚¤í…ì²˜</a>
      <a href="#kpi">KPI ì„¤ê³„</a>
      <a href="#integrity">ì •í•©ì„± ê²€ì¦</a>
      <a href="#tableau">Tableau</a>
      <a href="#stack">ê¸°ìˆ  ìŠ¤íƒ</a>
      <a href="#decisions">ì„¤ê³„ ê²°ì •</a>
      <a href="#tests">í…ŒìŠ¤íŠ¸</a>
    </div>
  </div>
</nav>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• 1. HERO â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<section class="hero">
  <div class="container">
    <p class="overline">Portfolio Project</p>
    <h1><em>KPI ì •í•©ì„±</em> ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ</h1>
    <p class="subtitle">
      ì—¬ì‹ ê¸ˆìœµí˜‘íšŒ ì¹´ë“œì‚¬ ì´ìš©ì‹¤ì  ë°ì´í„° ê¸°ë°˜ â€” í•µì‹¬ KPI 7ì¢… ì •ì˜ â†’
      10ì¢… êµì°¨ ì •í•©ì„± ê²€ì¦ â†’ 3ë‹¨ê³„ ì‹¬ê°ë„ ë¶„ë¥˜ â†’ Tableau ëŒ€ì‹œë³´ë“œ ì‹œê°í™”
    </p>

    <div class="meta-row">
      <span class="meta-item"><i data-lucide="calendar"></i> 2026.01 â€“ 2026.02 (4ì£¼)</span>
      <span class="meta-item"><i data-lucide="user"></i> ê°œì¸ í”„ë¡œì íŠ¸ (ì„¤ê³„ Â· ê°œë°œ Â· ìš´ì˜ ì „ì²´)</span>
      <span class="meta-item"><i data-lucide="database"></i> ê¸ˆìœµ ë„ë©”ì¸ (ì¹´ë“œì‚¬ ì´ìš©ì‹¤ì )</span>
      <span class="meta-item"><i data-lucide="git-branch"></i> DW/DM ì„¤ê³„ + ë°ì´í„° í’ˆì§ˆ</span>
    </div>

    <div class="btn-row">
      <a href="https://github.com/jiminnote/metrics-quality-dashboard" target="_blank" class="btn btn-primary">
        <i data-lucide="github" style="width:16px;height:16px;"></i> GitHub ë°”ë¡œê°€ê¸°
      </a>
      <a href="#kpi" class="btn btn-outline">
        <i data-lucide="arrow-down" style="width:16px;height:16px;"></i> í•µì‹¬ êµ¬í˜„ ë³´ê¸°
      </a>
    </div>

    <!-- Pipeline Flow -->
    <div class="pipeline-flow">
      <div class="flow-label">Pipeline Flow</div>
      <div class="pipeline-steps">
        <div class="pipeline-step step-sql">
          <i data-lucide="database"></i> KPI ê°±ì‹  (SQL 7ì¢…)
        </div>
        <span class="pipeline-arrow">â†’</span>
        <div class="pipeline-step step-py">
          <i data-lucide="shield-check"></i> ì •í•©ì„± ê²€ì¦ (10ì¢…)
        </div>
        <span class="pipeline-arrow">â†’</span>
        <div class="pipeline-step step-branch">
          <i data-lucide="git-branch"></i> 3-way ë¶„ê¸°
        </div>
        <span class="pipeline-arrow">â†’</span>
        <div class="pipeline-step step-alert">
          <i data-lucide="bell-ring"></i> ì•Œë¦¼ / ì—ìŠ¤ì»¬ë ˆì´ì…˜
        </div>
        <span class="pipeline-arrow">â†’</span>
        <div class="pipeline-step step-report">
          <i data-lucide="file-text"></i> ë¦¬í¬íŠ¸ (CSV/JSON/HTML)
        </div>
      </div>
    </div>
  </div>
</section>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• 2. BACKGROUND â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<section id="background">
  <div class="container">
    <span class="section-label"><i data-lucide="info" style="width:14px;height:14px;"></i> Background</span>
    <h2 class="section-title">í”„ë¡œì íŠ¸ ë°°ê²½ & ëª©ì </h2>
    <p class="section-desc">
      ê¸ˆìœµ ë°ì´í„°ëŠ” ì§‘ê³„ ë°©ì‹, ê¸°ê°„ ê¸°ì¤€, ë°˜ì˜¬ë¦¼ ì •ì±…ì— ë”°ë¼ KPI ê°„ ë¶ˆì¼ì¹˜ê°€ ë¹ˆë²ˆí•©ë‹ˆë‹¤.
      ìˆ˜ë™ ê²€ì¦ì€ ëˆ„ë½ ìœ„í—˜ì´ ë†’ê³ , ì´ìƒ íƒì§€ê°€ ëŠ¦ì–´ì§ˆìˆ˜ë¡ ì˜ì‚¬ê²°ì • ì‹ ë¢°ë„ê°€ í•˜ë½í•©ë‹ˆë‹¤.
    </p>

    <div class="bg-grid">
      <!-- Problem -->
      <div class="bg-card glass-card">
        <div class="icon-wrap icon-red"><i data-lucide="alert-triangle"></i></div>
        <h3>í•´ê²°í•  ë¬¸ì œ</h3>
        <p>
          KPI ì§€í‘œ ê°„ ì •í•©ì„± ë¶ˆì¼ì¹˜ê°€ ë¦¬í¬íŒ… ì´í›„ì—ì•¼ ë°œê²¬ë˜ëŠ” êµ¬ì¡°ì  í•œê³„.<br>
          ì ìœ ìœ¨ í•©ê³„ â‰  100%, ì„±ì¥ë¥  ì—­ì‚° ë¶ˆì¼ì¹˜, ì´ìƒì¹˜ ë¯¸íƒì§€ ë“± ìˆ˜ë™ ê²€ì¦ì˜ ì‚¬ê°ì§€ëŒ€.
        </p>
      </div>

      <!-- Solution -->
      <div class="bg-card glass-card">
        <div class="icon-wrap icon-blue"><i data-lucide="check-circle-2"></i></div>
        <h3>ì ‘ê·¼ ë°©ì‹</h3>
        <p>
          7ì¢… KPIë¥¼ SQLë¡œ ì •ì˜í•˜ê³ , 10ì¢… êµì°¨ ê²€ì¦ì„ ìë™í™”.
          CRITICAL / WARNING / INFO 3ë‹¨ê³„ë¡œ ë¶„ë¥˜í•´ ì•Œë¦¼ í”¼ë¡œë¥¼ ë°©ì§€í•˜ë©´ì„œë„ í•µì‹¬ ì´ìŠˆëŠ” ì¦‰ì‹œ í¬ì°©.
        </p>
      </div>

      <!-- Principle -->
      <div class="bg-card glass-card">
        <div class="icon-wrap icon-purple"><i data-lucide="settings-2"></i></div>
        <h3>ì„¤ê³„ ì›ì¹™</h3>
        <p>
          ë‹¤ì¸µ ê²€ì¦ (í•©ê³„ â†’ ë¹„ìœ¨ â†’ ì—­ì‚° â†’ ë²”ìœ„ â†’ í†µê³„ â†’ êµì°¨).<br>
          YAML ì„¤ì • ì™¸ë¶€í™”ë¡œ ì½”ë“œ ë³€ê²½ ì—†ì´ ì„ê³„ê°’ íŠœë‹.<br>
          Tableau ë·° ê¸°ë°˜ ì—°ë™ìœ¼ë¡œ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§.
        </p>
      </div>
    </div>
  </div>
</section>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• 3. ARCHITECTURE â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<section id="architecture">
  <div class="container">
    <span class="section-label"><i data-lucide="layers" style="width:14px;height:14px;"></i> Architecture</span>
    <h2 class="section-title">ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨</h2>
    <p class="section-desc">
      Airflow DAGê°€ ë§¤ì¼ 04:00(KST)ì— KPI ê°±ì‹  â†’ ì •í•©ì„± ê²€ì¦ â†’ 3-way ë¶„ê¸° â†’ ë¦¬í¬íŠ¸ë¥¼ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜í•©ë‹ˆë‹¤.
      PostgreSQLì€ ì§€í‘œ ì €ì¥ì†Œ, TableauëŠ” ë·° ê¸°ë°˜ ë¼ì´ë¸Œ ì—°ê²°ë¡œ ëŒ€ì‹œë³´ë“œë¥¼ ì œê³µí•©ë‹ˆë‹¤.
    </p>

    <div class="glass-card arch-img-wrap">
      <img src="assets/architecture.png" alt="Airflow DAG ì•„í‚¤í…ì²˜ â€” KPI ê°±ì‹  SQL â†’ ì •í•©ì„± ê²€ì¦ Py â†’ ê²°ê³¼ í‰ê°€(3-way ë¶„ê¸°) â†’ ë¦¬í¬íŠ¸ / PostgreSQL â†’ Tableau Dashboard" class="arch-img" />
    </div>
  </div>
</section>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• 4-1. KPI DESIGN â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<section id="kpi">
  <div class="container">
    <span class="section-label"><i data-lucide="bar-chart-3" style="width:14px;height:14px;"></i> Core Implementation â€” KPI Design</span>
    <h2 class="section-title">4-1. KPI ì„¤ê³„ & DM êµ¬ì¶•</h2>
    <p class="section-desc">
      ì—¬ì‹ ê¸ˆìœµí˜‘íšŒ ì›ì²œ ë°ì´í„°ë¥¼ 7ì¢… í•µì‹¬ KPIë¡œ ê°€ê³µí•˜ëŠ” Data Martë¥¼ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤.
      Window í•¨ìˆ˜, CTE, í†µê³„ í•¨ìˆ˜ë¥¼ í™œìš©í•œ SQL ì‚°ì¶œ ë¡œì§ê³¼ Tableau ë·° ì—°ë™ êµ¬ì¡°ë¥¼ í¬í•¨í•©ë‹ˆë‹¤.
    </p>

    <!-- KPI Cards -->
    <div class="kpi-grid">
      <div class="kpi-card glass-card">
        <span class="kpi-num num-blue">1</span>
        <h3>ì›”ë³„ ì¹´ë“œì‚¬ë³„ ì´ìš©ê¸ˆì•¡</h3>
        <p class="kpi-def">ì¹´ë“œì‚¬ë³„ ì›”ê°„ ì´ìš©ê¸ˆì•¡ í•©ê³„ + ì „ì›”/ì „ë…„ ë™ì›” ë¹„êµ</p>
        <span class="sql-tag">SUM() + LAG() OVER(PARTITION BY)</span>
        <span class="unit">ì–µì›</span>
      </div>
      <div class="kpi-card glass-card">
        <span class="kpi-num num-purple">2</span>
        <h3>ì‹œì¥ ì ìœ ìœ¨</h3>
        <p class="kpi-def">ì „ì²´ ì´ìš©ê¸ˆì•¡ ëŒ€ë¹„ ì¹´ë“œì‚¬ ë¹„ìœ¨ + ì ìœ ìœ¨ ë³€ë™(pp)</p>
        <span class="sql-tag">CTE + RANK() + LAG()</span>
        <span class="unit">%</span>
      </div>
      <div class="kpi-card glass-card">
        <span class="kpi-num num-teal">3</span>
        <h3>ì„±ì¥ë¥  (MoM / YoY / 3M MA)</h3>
        <p class="kpi-def">ì „ì›”Â·ì „ë…„ ì„±ì¥ë¥  + 3ê°œì›” ì´ë™í‰ê·  ë…¸ì´ì¦ˆ ì œê±°</p>
        <span class="sql-tag">LAG() + AVG() OVER(ROWS BETWEEN)</span>
        <span class="unit">%</span>
      </div>
      <div class="kpi-card glass-card">
        <span class="kpi-num num-amber">4</span>
        <h3>ì—…ì¢…ë³„ ì´ìš© íŒ¨í„´</h3>
        <p class="kpi-def">ì¹´ë“œì‚¬ë³„Â·ì—…ì¢…ë³„ ë¹„ì¤‘ + ì—…ì¢… ìˆœìœ„ + ì—…ì¢… MoM ì„±ì¥ë¥ </p>
        <span class="sql-tag">WINDOW w_company + RANK()</span>
        <span class="unit">%</span>
      </div>
      <div class="kpi-card glass-card">
        <span class="kpi-num num-rose">5</span>
        <h3>ì¹´ë“œ í™œì„±í™”ìœ¨</h3>
        <p class="kpi-def">ë°œê¸‰ ëŒ€ë¹„ ì´ìš© ì¹´ë“œ ë¹„ìœ¨ + ì—…ê³„ í‰ê·  ëŒ€ë¹„ ì°¨ì´</p>
        <span class="sql-tag">active / issued + AVG() OVER()</span>
        <span class="unit">%</span>
      </div>
      <div class="kpi-card glass-card">
        <span class="kpi-num num-green">6</span>
        <h3>ì‹œì¥ ì§‘ì¤‘ë„ (HHI / CR3)</h3>
        <p class="kpi-def">HHI = Î£(ì ìœ ìœ¨Â²), CR3 = ìƒìœ„ 3ì‚¬ í•©ì‚°. ê³¼ì  ìˆ˜ì¤€ íŒì •</p>
        <span class="sql-tag">POWER() + ì„œë¸Œì¿¼ë¦¬ LIMIT 3</span>
        <span class="unit">ì§€ìˆ˜</span>
      </div>
      <div class="kpi-card glass-card">
        <span class="kpi-num num-orange">7</span>
        <h3>ì´ìƒì¹˜ íƒì§€</h3>
        <p class="kpi-def">Z-Score + IQR ê¸°ë°˜ ì´ìƒì¹˜ íƒì§€ â†’ CRITICAL/WARNING ë¶„ë¥˜</p>
        <span class="sql-tag">STDDEV() + PERCENTILE_CONT()</span>
        <span class="unit">Z</span>
      </div>
    </div>

    <!-- SQL Showcase -->
    <div class="sql-showcase">
      <div class="showcase-title">SQL ì‚°ì¶œ ë¡œì§ í•˜ì´ë¼ì´íŠ¸ â€” KPI 3. ì„±ì¥ë¥  (MoM / YoY / 3M Moving Average)</div>
      <pre><code><span class="cmt">-- MoM, YoY, 3ê°œì›” ì´ë™í‰ê· , ì—°í™˜ì‚° ì„±ì¥ë¥ ì„ í•œ ë²ˆì— ì‚°ì¶œ</span>
<span class="kw">CREATE TABLE</span> <span class="tbl">kpi_growth_rate</span> <span class="kw">AS</span>
<span class="kw">WITH</span> <span class="alias">base</span> <span class="kw">AS</span> (
    <span class="kw">SELECT</span> year_month, card_company,
           total_usage_amount  <span class="kw">AS</span> current_amount,
           prev_month_amount, prev_year_amount
    <span class="kw">FROM</span> <span class="tbl">kpi_monthly_usage</span>
)
<span class="kw">SELECT</span>
    b.year_month, b.card_company,
    <span class="cmt">-- MoM ì„±ì¥ë¥ </span>
    <span class="fn">ROUND</span>(
        (b.current_amount - <span class="fn">COALESCE</span>(b.prev_month_amount, <span class="num">0</span>))::NUMERIC
        / <span class="fn">NULLIF</span>(b.prev_month_amount, <span class="num">0</span>) * <span class="num">100</span>, <span class="num">2</span>
    )                                           <span class="kw">AS</span> mom_growth_rate,
    <span class="cmt">-- YoY ì„±ì¥ë¥ </span>
    <span class="fn">ROUND</span>(
        (b.current_amount - <span class="fn">COALESCE</span>(b.prev_year_amount, <span class="num">0</span>))::NUMERIC
        / <span class="fn">NULLIF</span>(b.prev_year_amount, <span class="num">0</span>) * <span class="num">100</span>, <span class="num">2</span>
    )                                           <span class="kw">AS</span> yoy_growth_rate,
    <span class="cmt">-- 3ê°œì›” ì´ë™í‰ê·  MoM (ë…¸ì´ì¦ˆ ì œê±°)</span>
    <span class="fn">ROUND</span>(<span class="fn">AVG</span>(...) <span class="kw">OVER</span> (
        <span class="kw">PARTITION BY</span> b.card_company
        <span class="kw">ORDER BY</span> b.year_month <span class="kw">ROWS BETWEEN</span> <span class="num">2</span> <span class="kw">PRECEDING AND CURRENT ROW</span>
    ), <span class="num">2</span>)                                    <span class="kw">AS</span> mom_3m_moving_avg,
    <span class="cmt">-- ì—°í™˜ì‚° ì„±ì¥ë¥  (CAGR ê·¼ì‚¬)</span>
    <span class="kw">CASE WHEN</span> b.prev_year_amount > <span class="num">0</span> <span class="kw">THEN</span>
        <span class="fn">ROUND</span>(<span class="fn">POWER</span>(b.current_amount / b.prev_year_amount, <span class="num">1.0</span>) - <span class="num">1</span>) * <span class="num">100</span>, <span class="num">2</span>)
    <span class="kw">END</span>                                         <span class="kw">AS</span> annual_growth_rate
<span class="kw">FROM</span> <span class="alias">base</span> b;</code></pre>
    </div>

    <!-- Tableau View Note -->
    <div style="margin-top: 24px; padding: 18px 24px; border-radius: 12px; background: rgba(139,92,246,.05); border: 1px solid rgba(139,92,246,.12);">
      <span style="font-size: 0.78rem; color: #a78bfa; font-weight: 600;">
        <i data-lucide="link" style="width:14px;height:14px;display:inline;vertical-align:middle;margin-right:4px;"></i>
        Tableau ì—°ë™ â€” 7ê°œ KPI í…Œì´ë¸”ì„ JOINí•œ <code style="color:#c084fc;">v_dashboard_main</code> ë·°ë¥¼ í†µí•´ ë¼ì´ë¸Œ ì—°ê²°í•©ë‹ˆë‹¤.
        ë³„ë„ ETL ì—†ì´ PostgreSQL ë·° í•˜ë‚˜ë¡œ Tableau ë°ì´í„°ì†ŒìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
      </span>
    </div>
  </div>
</section>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• 4-2. INTEGRITY CHECKS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<section id="integrity">
  <div class="container">
    <span class="section-label"><i data-lucide="shield-check" style="width:14px;height:14px;"></i> Core Implementation â€” Integrity Checks</span>
    <h2 class="section-title">4-2. ì •í•©ì„± ê²€ì¦ ì²´ê³„</h2>
    <p class="section-desc">
      10ì¢… êµì°¨ ê²€ì¦ìœ¼ë¡œ KPI ê°„ ë…¼ë¦¬ì  ì¼ê´€ì„±ì„ ìë™ ê²€ì¦í•©ë‹ˆë‹¤.
      í•©ê³„ â†’ ë¹„ìœ¨ â†’ ì—­ì‚° â†’ ë²”ìœ„ â†’ ì—°ì†ì„± â†’ í†µê³„ â†’ êµì°¨ì˜ ë‹¤ì¸µ êµ¬ì¡°ë¡œ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤.
    </p>

    <!-- 10 Checks Table -->
    <div class="check-table-wrap">
      <table class="check-table">
        <thead>
          <tr>
            <th style="width:36px;">#</th>
            <th>ê²€ì¦ í•­ëª©</th>
            <th>ì¹´í…Œê³ ë¦¬</th>
            <th>ì‹¬ê°ë„</th>
            <th>íŒì • ê¸°ì¤€</th>
            <th>ìƒíƒœ</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>1</td>
            <td>ì „ì²´ ì´ìš©ê¸ˆì•¡ = ì¹´ë“œì‚¬ë³„ í•©ê³„</td>
            <td class="mono">sum_integrity</td>
            <td><span class="badge badge-critical">CRITICAL</span></td>
            <td>ì°¨ì´ &lt; 1ì›</td>
            <td><span class="badge badge-pass">PASS</span></td>
          </tr>
          <tr>
            <td>2</td>
            <td>ì‹œì¥ ì ìœ ìœ¨ í•©ê³„ = 100%</td>
            <td class="mono">ratio_integrity</td>
            <td><span class="badge badge-critical">CRITICAL</span></td>
            <td>ì°¨ì´ &lt; 0.1%</td>
            <td><span class="badge badge-pass">PASS</span></td>
          </tr>
          <tr>
            <td>3</td>
            <td>ì—…ì¢…ë³„ ë¹„ìœ¨ í•©ê³„ = 100% (ì¹´ë“œì‚¬ë³„)</td>
            <td class="mono">ratio_integrity</td>
            <td><span class="badge badge-warning">WARNING</span></td>
            <td>ì°¨ì´ &lt; 0.5%</td>
            <td><span class="badge badge-pass">PASS</span></td>
          </tr>
          <tr>
            <td>4</td>
            <td>MoM ì„±ì¥ë¥  ì—­ì‚° ê²€ì¦</td>
            <td class="mono">formula_integrity</td>
            <td><span class="badge badge-warning">WARNING</span></td>
            <td>ì—­ì‚° ì°¨ì´ &lt; 10ì›</td>
            <td><span class="badge badge-pass">PASS</span></td>
          </tr>
          <tr>
            <td>5</td>
            <td>YoY ì„±ì¥ë¥  ì—­ì‚° ê²€ì¦</td>
            <td class="mono">formula_integrity</td>
            <td><span class="badge badge-warning">WARNING</span></td>
            <td>ì—­ì‚° ì°¨ì´ &lt; 10ì›</td>
            <td><span class="badge badge-pass">PASS</span></td>
          </tr>
          <tr>
            <td>6</td>
            <td>í™œì„±í™”ìœ¨ ë²”ìœ„ (0~100%)</td>
            <td class="mono">range_integrity</td>
            <td><span class="badge badge-critical">CRITICAL</span></td>
            <td>ë²”ìœ„ ì´íƒˆ = FAIL</td>
            <td><span class="badge badge-pass">PASS</span></td>
          </tr>
          <tr>
            <td>7</td>
            <td>ë°ì´í„° ì—°ì†ì„± (ì›” ëˆ„ë½)</td>
            <td class="mono">continuity_integrity</td>
            <td><span class="badge badge-critical">CRITICAL</span></td>
            <td>ëˆ„ë½ = FAIL</td>
            <td><span class="badge badge-pass">PASS</span></td>
          </tr>
          <tr>
            <td>8</td>
            <td>HHI ë²”ìœ„ (0~10000)</td>
            <td class="mono">range_integrity</td>
            <td><span class="badge badge-warning">WARNING</span></td>
            <td>ë²”ìœ„ ì´íƒˆ = FAIL</td>
            <td><span class="badge badge-pass">PASS</span></td>
          </tr>
          <tr>
            <td>9</td>
            <td>Z-Score ì´ìƒì¹˜ ë¹„ìœ¨ &lt; 5%</td>
            <td class="mono">statistical_integrity</td>
            <td><span class="badge badge-warning">WARNING</span></td>
            <td>CRITICAL ë¹„ìœ¨ &gt; 5%</td>
            <td><span class="badge badge-pass">PASS</span></td>
          </tr>
          <tr>
            <td>10</td>
            <td>ì ìœ ìœ¨ ë³€ë™ â†” ì„±ì¥ë¥  êµì°¨ ê²€ì¦</td>
            <td class="mono">cross_kpi_integrity</td>
            <td><span class="badge badge-info">INFO</span></td>
            <td>ë°©í–¥ ë¶ˆì¼ì¹˜ = FAIL</td>
            <td><span class="badge badge-pass">PASS</span></td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Severity Cards -->
    <div class="severity-cards">
      <div class="sev-card sev-critical">
        <h4>ğŸ”´ CRITICAL</h4>
        <p class="sev-action">ì¦‰ì‹œ Slack ì•Œë¦¼ + ì˜¨ì½œ ì—ìŠ¤ì»¬ë ˆì´ì…˜ (2íšŒ ì—°ì† ì‹œ)</p>
        <p class="sev-checks">CHECK 1, 2, 6, 7 â€” ê¸°ë³¸ í•©ê³„Â·ë¹„ìœ¨Â·ë²”ìœ„Â·ì—°ì†ì„± ë¶ˆì¼ì¹˜</p>
      </div>
      <div class="sev-card sev-warning">
        <h4>ğŸŸ¡ WARNING</h4>
        <p class="sev-action">Slack ê²½ê³  + ì¼ë³„ ë¦¬í¬íŠ¸ í¬í•¨</p>
        <p class="sev-checks">CHECK 3, 4, 5, 8, 9 â€” ì—…ì¢…ë¹„ìœ¨Â·ì—­ì‚°Â·HHIÂ·ì´ìƒì¹˜</p>
      </div>
      <div class="sev-card sev-info">
        <h4>ğŸ”µ INFO</h4>
        <p class="sev-action">ë¡œê·¸ ê¸°ë¡ + ë¦¬í¬íŠ¸ ì°¸ê³ ìš©</p>
        <p class="sev-checks">CHECK 10 â€” KPI ê°„ ë°©í–¥ì„± êµì°¨ ê²€ì¦</p>
      </div>
    </div>

    <!-- Branch Logic -->
    <div style="margin-top: 32px; padding: 22px 28px; border-radius: 14px; background: rgba(255,255,255,.02); border: 1px solid rgba(255,255,255,.05);">
      <div style="font-size: 0.72rem; font-weight: 600; color: #475176; letter-spacing: 0.08em; text-transform: uppercase; margin-bottom: 14px;">3-Way Branch Logic (BranchPythonOperator)</div>
      <div style="font-family: 'JetBrains Mono', monospace; font-size: 0.75rem; line-height: 1.8; color: #8b93a7;">
        <span style="color: #c084fc;">if</span> overall_status == <span style="color: #34d399;">"CRITICAL"</span><span style="color: #3d4562;"> â†’</span> <span style="color: #f87171;">alert_critical â†’ escalate_to_oncall</span><br>
        <span style="color: #c084fc;">elif</span> overall_status == <span style="color: #34d399;">"WARNING"</span><span style="color: #3d4562;">  â†’</span> <span style="color: #fbbf24;">alert_warning</span><br>
        <span style="color: #c084fc;">else</span><span style="color: #3d4562;">                           â†’</span> <span style="color: #34d399;">log_success</span><br>
        <span style="color: #3d4562;">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><br>
        <span style="color: #3d4562;">ëª¨ë“  ë¶„ê¸° â†’</span> <span style="color: #60a5fa;">generate_report (CSV/JSON/HTML)</span> â†’ <span style="color: #60a5fa;">cleanup_old_reports</span>
      </div>
    </div>
  </div>
</section>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• 4-3. TABLEAU â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<section id="tableau">
  <div class="container">
    <span class="section-label"><i data-lucide="layout-dashboard" style="width:14px;height:14px;"></i> Core Implementation â€” Tableau</span>
    <h2 class="section-title">4-3. Tableau ëŒ€ì‹œë³´ë“œ 3ì¢…</h2>
    <p class="section-desc">
      PostgreSQL ë·°ë¥¼ í†µí•œ ë¼ì´ë¸Œ ì—°ê²°ë¡œ 3ì¢… ëŒ€ì‹œë³´ë“œë¥¼ êµ¬ì„±í•©ë‹ˆë‹¤.
      ì•„ë˜ëŠ” ì‹¤ì œ í”„ë¡œì íŠ¸ ë°ì´í„° ëª¨ë¸ ê¸°ë°˜ì˜ ì¸í„°ë™í‹°ë¸Œ ëª©ì—…ì…ë‹ˆë‹¤.
    </p>

    <!-- â”€â”€ Dashboard Tabs â”€â”€ -->
    <div class="dash-tabs">
      <button class="dash-tab active" data-tab="tab-overview">
        <i data-lucide="pie-chart" style="width:14px;height:14px;"></i> KPI ê°œìš”
      </button>
      <button class="dash-tab" data-tab="tab-growth">
        <i data-lucide="trending-up" style="width:14px;height:14px;"></i> ì„±ì¥ íŠ¸ë Œë“œ
      </button>
      <button class="dash-tab" data-tab="tab-quality">
        <i data-lucide="shield-check" style="width:14px;height:14px;"></i> ì •í•©ì„± ëª¨ë‹ˆí„°ë§
      </button>
    </div>

    <!-- â•â•â•â•â•â•â•â• Dashboard 1: KPI ê°œìš” â•â•â•â•â•â•â•â• -->
    <div class="dash-panel active" id="tab-overview">
      <div class="dash-header">
        <div>
          <h3 class="dash-title">KPI ê°œìš” ëŒ€ì‹œë³´ë“œ</h3>
          <p class="dash-sub">ì¹´ë“œì‚¬ë³„ í•µì‹¬ KPI í˜„í™© Â· <span class="view-tag-inline">v_dashboard_main</span></p>
        </div>
        <div class="dash-period">2024.01 â€“ 2025.12 (24ê°œì›”)</div>
      </div>

      <!-- KPI Scorecards -->
      <div class="scorecard-row">
        <div class="scorecard">
          <div class="sc-label">ì „ì²´ ì´ìš©ê¸ˆì•¡ (ìµœì‹ ì›”)</div>
          <div class="sc-value">22.4<span class="sc-unit">ì¡°ì›</span></div>
          <div class="sc-change positive">â–² 3.2% MoM</div>
        </div>
        <div class="scorecard">
          <div class="sc-label">1ìœ„ ì ìœ ìœ¨</div>
          <div class="sc-value">18.7<span class="sc-unit">%</span></div>
          <div class="sc-change positive">â–² 0.3pp</div>
        </div>
        <div class="scorecard">
          <div class="sc-label">í‰ê·  í™œì„±í™”ìœ¨</div>
          <div class="sc-value">70.2<span class="sc-unit">%</span></div>
          <div class="sc-change negative">â–¼ 0.5pp</div>
        </div>
        <div class="scorecard">
          <div class="sc-label">HHI ì§‘ì¤‘ë„</div>
          <div class="sc-value">1,342<span class="sc-unit">pt</span></div>
          <div class="sc-change neutral">ê²½ìŸì  ì‹œì¥</div>
        </div>
      </div>

      <!-- Charts Row -->
      <div class="chart-row-2">
        <div class="chart-box glass-card">
          <div class="chart-title">ì¹´ë“œì‚¬ë³„ ì›”ë³„ ì´ìš©ê¸ˆì•¡ ì¶”ì´</div>
          <canvas id="chartUsageTrend"></canvas>
        </div>
        <div class="chart-box chart-box-sm glass-card">
          <div class="chart-title">ì‹œì¥ ì ìœ ìœ¨ (ìµœì‹ ì›”)</div>
          <canvas id="chartMarketShare"></canvas>
        </div>
      </div>

      <!-- Activation Bar -->
      <div class="chart-box glass-card" style="margin-top:16px;">
        <div class="chart-title">ì¹´ë“œì‚¬ë³„ í™œì„±í™”ìœ¨ vs ì—…ê³„ í‰ê·  (70.2%)</div>
        <canvas id="chartActivation" style="max-height:260px;"></canvas>
      </div>
    </div>

    <!-- â•â•â•â•â•â•â•â• Dashboard 2: ì„±ì¥ íŠ¸ë Œë“œ â•â•â•â•â•â•â•â• -->
    <div class="dash-panel" id="tab-growth">
      <div class="dash-header">
        <div>
          <h3 class="dash-title">ì„±ì¥ íŠ¸ë Œë“œ ëŒ€ì‹œë³´ë“œ</h3>
          <p class="dash-sub">MoM / YoY ì„±ì¥ ì¶”ì´ Â· <span class="view-tag-inline">v_dashboard_market_structure</span></p>
        </div>
        <div class="dash-period">ì‹œì¥ ì „ì²´ ê¸°ì¤€</div>
      </div>

      <!-- Growth Charts -->
      <div class="chart-row-2">
        <div class="chart-box glass-card">
          <div class="chart-title">MoM / YoY ì„±ì¥ë¥  + 3M ì´ë™í‰ê· </div>
          <canvas id="chartGrowthRate"></canvas>
        </div>
        <div class="chart-box glass-card">
          <div class="chart-title">HHI ì‹œì¥ ì§‘ì¤‘ë„ ì¶”ì´</div>
          <canvas id="chartHHI"></canvas>
        </div>
      </div>

      <!-- Category Heatmap -->
      <div class="chart-box glass-card" style="margin-top:16px;">
        <div class="chart-title">ì—…ì¢…ë³„ ì¹´ë“œì‚¬ ì´ìš©ê¸ˆì•¡ ë¹„ì¤‘ (%)</div>
        <div class="heatmap-wrap" id="heatmapWrap"></div>
      </div>
    </div>

    <!-- â•â•â•â•â•â•â•â• Dashboard 3: ì •í•©ì„± ëª¨ë‹ˆí„°ë§ â•â•â•â•â•â•â•â• -->
    <div class="dash-panel" id="tab-quality">
      <div class="dash-header">
        <div>
          <h3 class="dash-title">ì •í•©ì„± ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ</h3>
          <p class="dash-sub">10ì¢… ê²€ì¦ ê²°ê³¼ Â· <span class="view-tag-inline">v_integrity_daily_trend</span></p>
        </div>
        <div class="dash-period">ìµœê·¼ 30ì¼</div>
      </div>

      <!-- Quality Scorecards -->
      <div class="scorecard-row">
        <div class="scorecard">
          <div class="sc-label">ì˜¤ëŠ˜ í†µê³¼ìœ¨</div>
          <div class="sc-value" style="color:#34d399;">100<span class="sc-unit">%</span></div>
          <div class="sc-change positive">ì „ì²´ PASS</div>
        </div>
        <div class="scorecard">
          <div class="sc-label">CRITICAL ì‹¤íŒ¨</div>
          <div class="sc-value" style="color:#34d399;">0<span class="sc-unit">ê±´</span></div>
          <div class="sc-change neutral">ì •ìƒ</div>
        </div>
        <div class="scorecard">
          <div class="sc-label">ì´ ê²€ì¦ ê±´ìˆ˜</div>
          <div class="sc-value">87<span class="sc-unit">ê±´</span></div>
          <div class="sc-change neutral">10ì¢… Ã— ë‹¤ì¤‘ ëŒ€ìƒ</div>
        </div>
        <div class="scorecard">
          <div class="sc-label">í‰ê·  í†µê³¼ìœ¨ (30ì¼)</div>
          <div class="sc-value" style="color:#34d399;">98.4<span class="sc-unit">%</span></div>
          <div class="sc-change positive">â–² 1.2%</div>
        </div>
      </div>

      <!-- Quality Charts -->
      <div class="chart-row-2">
        <div class="chart-box glass-card">
          <div class="chart-title">ì¼ë³„ í†µê³¼ìœ¨ ì¶”ì´ (ìµœê·¼ 30ì¼)</div>
          <canvas id="chartPassRate"></canvas>
        </div>
        <div class="chart-box chart-box-sm glass-card">
          <div class="chart-title">ì‹¬ê°ë„ë³„ ê²€ì¦ ë¶„í¬</div>
          <canvas id="chartSeverity"></canvas>
        </div>
      </div>

      <!-- Pass/Fail Matrix -->
      <div class="chart-box glass-card" style="margin-top:16px;">
        <div class="chart-title">ê²€ì¦ í•­ëª©ë³„ Pass / Fail ìƒíƒœ (ìµœê·¼ 7ì¼)</div>
        <div class="matrix-wrap" id="matrixWrap"></div>
      </div>
    </div>

    <!-- View Connection Structure -->
    <div style="margin-top: 28px; padding: 22px 28px; border-radius: 14px; background: rgba(255,255,255,.02); border: 1px solid rgba(255,255,255,.05);">
      <div style="font-size: 0.72rem; font-weight: 600; color: #475176; letter-spacing: 0.08em; text-transform: uppercase; margin-bottom: 14px;">ë·° ê¸°ë°˜ ì—°ê²° êµ¬ì¡° â€” PostgreSQL â†’ Tableau Live Connection</div>
      <div style="font-family: 'JetBrains Mono', monospace; font-size: 0.73rem; line-height: 1.8; color: #8b93a7;">
        <span style="color:#60a5fa;">v_dashboard_main</span>             = kpi_monthly_usage <span style="color:#3d4562;">â‹ˆ</span> kpi_market_share <span style="color:#3d4562;">â‹ˆ</span> kpi_growth_rate <span style="color:#3d4562;">â‹ˆ</span> kpi_activation_rate <span style="color:#3d4562;">â‹ˆ</span> kpi_anomaly_detection<br>
        <span style="color:#60a5fa;">v_dashboard_market_structure</span>  = kpi_market_concentration + <span style="color:#fbbf24;">LAG()</span> HHI ë³€ë™<br>
        <span style="color:#60a5fa;">v_integrity_daily_trend</span>      = integrity_check_log <span style="color:#fbbf24;">GROUP BY</span> check_date<br>
        <span style="color:#60a5fa;">v_integrity_critical_failures</span> = integrity_check_log <span style="color:#fbbf24;">WHERE</span> severity=<span style="color:#34d399;">'CRITICAL'</span> AND status=<span style="color:#f87171;">'FAIL'</span>
      </div>
    </div>
  </div>
</section>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• 5. TECH STACK â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<section id="stack">
  <div class="container">
    <span class="section-label"><i data-lucide="cpu" style="width:14px;height:14px;"></i> Tech Stack</span>
    <h2 class="section-title">ê¸°ìˆ  ìŠ¤íƒ</h2>

    <div class="stack-grid">
      <div class="stack-item glass-card">
        <div class="stack-icon si-pg">PG</div>
        <h4>PostgreSQL 14+</h4>
        <p>Window í•¨ìˆ˜, CTE, í†µê³„ í•¨ìˆ˜<br>KPI ì‚°ì¶œ + Tableau ë·°</p>
      </div>
      <div class="stack-item glass-card">
        <div class="stack-icon si-py">Py</div>
        <h4>Python 3.11</h4>
        <p>Dataclass, Enum<br>ì •í•©ì„± ê²€ì¦ ì—”ì§„</p>
      </div>
      <div class="stack-item glass-card">
        <div class="stack-icon si-air">AF</div>
        <h4>Apache Airflow 2.7</h4>
        <p>TaskGroup, Branch<br>SLA, ì½œë°± ì•Œë¦¼</p>
      </div>
      <div class="stack-item glass-card">
        <div class="stack-icon si-tab">Tb</div>
        <h4>Tableau</h4>
        <p>ë·° ê¸°ë°˜ ë¼ì´ë¸Œ ì—°ê²°<br>3ì¢… ëŒ€ì‹œë³´ë“œ</p>
      </div>
      <div class="stack-item glass-card">
        <div class="stack-icon si-dock">ğŸ³</div>
        <h4>Docker Compose</h4>
        <p>Airflow + PostgreSQL<br>ì›í´ë¦­ ê¸°ë™</p>
      </div>
      <div class="stack-item glass-card">
        <div class="stack-icon si-test">Ts</div>
        <h4>pytest + coverage</h4>
        <p>ë‹¨ìœ„/í†µí•© í…ŒìŠ¤íŠ¸<br>30+ ì¼€ì´ìŠ¤</p>
      </div>
      <div class="stack-item glass-card">
        <div class="stack-icon si-yaml">YA</div>
        <h4>YAML ì„¤ì •</h4>
        <p>ì„ê³„ê°’ ì™¸ë¶€í™”<br>ì½”ë“œ ë³€ê²½ ì—†ì´ íŠœë‹</p>
      </div>
    </div>
  </div>
</section>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• 6. DESIGN DECISIONS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<section id="decisions">
  <div class="container">
    <span class="section-label"><i data-lucide="lightbulb" style="width:14px;height:14px;"></i> Design Decisions</span>
    <h2 class="section-title">ì£¼ìš” ì„¤ê³„ ê²°ì •</h2>

    <div class="decision-grid">
      <div class="decision-card glass-card">
        <div class="q"><i data-lucide="help-circle" style="width:18px;height:18px;"></i> ì™œ 10ì¢… êµì°¨ ê²€ì¦ì¸ê°€?</div>
        <p class="a">
          ë‹¨ìˆœ í•©ê³„ ê²€ì¦ë§Œìœ¼ë¡œëŠ” ì§€í‘œ í’ˆì§ˆì„ ë³´ì¥í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
          <strong style="color:#c4c9d8;">ë¹„ìœ¨ ì •í•© â†’ ì‚°ì¶œì‹ ì—­ì‚° â†’ ë²”ìœ„ ê²€ì¦ â†’ í†µê³„ì  ì´ìƒì¹˜ â†’ KPI ê°„ êµì°¨ ê²€ì¦</strong>ê¹Œì§€
          ë‹¤ì¸µì ìœ¼ë¡œ ê²€ì¦í•´ì•¼ í”„ë¡œë•ì…˜ ìˆ˜ì¤€ì˜ ë°ì´í„° í’ˆì§ˆì´ í™•ë³´ë©ë‹ˆë‹¤.
        </p>
      </div>
      <div class="decision-card glass-card">
        <div class="q"><i data-lucide="help-circle" style="width:18px;height:18px;"></i> ì™œ 3ë‹¨ê³„ ì‹¬ê°ë„ì¸ê°€?</div>
        <p class="a">
          ëª¨ë“  ì‹¤íŒ¨ë¥¼ ë™ì¼í•˜ê²Œ ì²˜ë¦¬í•˜ë©´ <strong style="color:#c4c9d8;">ì•Œë¦¼ í”¼ë¡œ(Alert Fatigue)</strong>ê°€ ë°œìƒí•©ë‹ˆë‹¤.
          CRITICALì€ ì¦‰ì‹œ ëŒ€ì‘, WARNINGì€ ì¼ë³„ ë¦¬ë·°, INFOëŠ” ì°¸ê³ ìš©ìœ¼ë¡œ ë¶„ë¥˜í•´
          ìš´ì˜ íš¨ìœ¨ì„±ì„ í™•ë³´í–ˆìŠµë‹ˆë‹¤.
        </p>
      </div>
      <div class="decision-card glass-card">
        <div class="q"><i data-lucide="help-circle" style="width:18px;height:18px;"></i> ì™œ YAML ì„¤ì • ê´€ë¦¬ì¸ê°€?</div>
        <p class="a">
          ì„ê³„ê°’ì„ ì½”ë“œì— í•˜ë“œì½”ë”©í•˜ë©´ ë³€ê²½ë§ˆë‹¤ ë°°í¬ê°€ í•„ìš”í•©ë‹ˆë‹¤.
          YAMLë¡œ ë¶„ë¦¬í•˜ë©´ <strong style="color:#c4c9d8;">ì½”ë“œ ë³€ê²½ ì—†ì´ ì„ê³„ê°’ íŠœë‹</strong>ì´ ê°€ëŠ¥í•˜ê³ ,
          í™˜ê²½ë³„ ì„¤ì • ê´€ë¦¬ê°€ ìš©ì´í•©ë‹ˆë‹¤. Airflow DAGì—ì„œë„ ë™ì ìœ¼ë¡œ ë¡œë“œí•©ë‹ˆë‹¤.
        </p>
      </div>
      <div class="decision-card glass-card">
        <div class="q"><i data-lucide="help-circle" style="width:18px;height:18px;"></i> ì™œ HTML ë¦¬í¬íŠ¸ì¸ê°€?</div>
        <p class="a">
          JSON/CSVëŠ” ì‹œìŠ¤í…œ ê°„ ì—°ë™ì— ì í•©í•˜ì§€ë§Œ, ë¹„ê°œë°œ ì§êµ°(PM, ë¶„ì„ê°€)ì—ê²ŒëŠ”
          <strong style="color:#c4c9d8;">ì‹œê°ì  ë¦¬í¬íŠ¸</strong>ê°€ í•„ìš”í•©ë‹ˆë‹¤.
          HTMLì€ ë¸Œë¼ìš°ì €ì—ì„œ ë°”ë¡œ í™•ì¸ ê°€ëŠ¥í•˜ê³ , Slack/ì´ë©”ì¼ ì²¨ë¶€ë„ ìš©ì´í•©ë‹ˆë‹¤.
        </p>
      </div>
    </div>
  </div>
</section>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• 7. TESTS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<section id="tests">
  <div class="container">
    <span class="section-label"><i data-lucide="flask-conical" style="width:14px;height:14px;"></i> Testing</span>
    <h2 class="section-title">í…ŒìŠ¤íŠ¸</h2>
    <p class="section-desc">
      pytest ê¸°ë°˜ 30+ ì¼€ì´ìŠ¤ë¡œ ê²€ì¦ ì—”ì§„ì˜ ì •í™•ì„±ì„ ë³´ì¥í•©ë‹ˆë‹¤.
      ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜, 10ì¢… ê°œë³„ ê²€ì¦, ë¦¬í¬íŠ¸ ë‚´ë³´ë‚´ê¸°, í†µí•© íŒŒì´í”„ë¼ì¸ê¹Œì§€ ì „ìˆ˜ ì»¤ë²„í•©ë‹ˆë‹¤.
    </p>

    <div class="test-summary">
      <div class="test-stat glass-card">
        <div class="num">30+</div>
        <div class="label">í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤</div>
      </div>
      <div class="test-stat glass-card">
        <div class="num">10</div>
        <div class="label">ê²€ì¦ ì¹´í…Œê³ ë¦¬</div>
      </div>
      <div class="test-stat glass-card">
        <div class="num">3</div>
        <div class="label">ë‚´ë³´ë‚´ê¸° í¬ë§·</div>
      </div>
      <div class="test-stat glass-card">
        <div class="num">1</div>
        <div class="label">í†µí•© íŒŒì´í”„ë¼ì¸</div>
      </div>
    </div>

    <div class="test-categories">
      <div class="test-cat glass-card">
        <span class="dot" style="background:#60a5fa;"></span>
        <span class="cat-name">í†µê³„ ìœ í‹¸ë¦¬í‹°</span>
        <span class="cat-count">Z-Score, IQR, Trend Break</span>
      </div>
      <div class="test-cat glass-card">
        <span class="dot" style="background:#a78bfa;"></span>
        <span class="cat-name">ì„¤ì • ë¡œë”</span>
        <span class="cat-count">ê¸°ë³¸ê°’, YAML ë¡œë“œ</span>
      </div>
      <div class="test-cat glass-card">
        <span class="dot" style="background:#f87171;"></span>
        <span class="cat-name">í•©ê³„ ì •í•©ì„±</span>
        <span class="cat-count">PASS / FAIL ì¼€ì´ìŠ¤</span>
      </div>
      <div class="test-cat glass-card">
        <span class="dot" style="background:#fbbf24;"></span>
        <span class="cat-name">ë¹„ìœ¨ ì •í•©ì„±</span>
        <span class="cat-count">ì ìœ ìœ¨, ì—…ì¢… ë¹„ìœ¨</span>
      </div>
      <div class="test-cat glass-card">
        <span class="dot" style="background:#34d399;"></span>
        <span class="cat-name">ì‚°ì¶œì‹ ì—­ì‚°</span>
        <span class="cat-count">MoM / YoY + NULL ì²˜ë¦¬</span>
      </div>
      <div class="test-cat glass-card">
        <span class="dot" style="background:#fb7185;"></span>
        <span class="cat-name">ë²”ìœ„ ê²€ì¦</span>
        <span class="cat-count">í™œì„±í™”ìœ¨ 0~100%</span>
      </div>
      <div class="test-cat glass-card">
        <span class="dot" style="background:#2dd4bf;"></span>
        <span class="cat-name">ì—°ì†ì„± ê²€ì¦</span>
        <span class="cat-count">ì›” ëˆ„ë½ íƒì§€</span>
      </div>
      <div class="test-cat glass-card">
        <span class="dot" style="background:#fb923c;"></span>
        <span class="cat-name">í†µê³„ / êµì°¨ ê²€ì¦</span>
        <span class="cat-count">ì´ìƒì¹˜, ë°©í–¥ì„±</span>
      </div>
      <div class="test-cat glass-card">
        <span class="dot" style="background:#818cf8;"></span>
        <span class="cat-name">ë¦¬í¬íŠ¸ ë‚´ë³´ë‚´ê¸°</span>
        <span class="cat-count">CSV, JSON, HTML</span>
      </div>
      <div class="test-cat glass-card">
        <span class="dot" style="background:#e879f9;"></span>
        <span class="cat-name">í†µí•© í…ŒìŠ¤íŠ¸</span>
        <span class="cat-count">10ì¢… í’€ íŒŒì´í”„ë¼ì¸</span>
      </div>
    </div>

    <!-- Test Command -->
    <div style="margin-top: 24px; padding: 16px 22px; border-radius: 10px; background: rgba(15,20,35,.7); border: 1px solid rgba(255,255,255,.05);">
      <code style="font-size: 0.78rem; color: #8b93a7;">
        <span style="color: #34d399;">$</span> pytest tests/ -v --cov=scripts --cov-report=term-missing
      </code>
    </div>
  </div>
</section>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• 8. PRACTICAL CONNECTION â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<section id="practical">
  <div class="container">
    <span class="section-label"><i data-lucide="briefcase" style="width:14px;height:14px;"></i> Practical Connection</span>
    <h2 class="section-title">ì‹¤ë¬´ ì—°ê²° í¬ì¸íŠ¸</h2>
    <p class="section-desc">
      ì´ í”„ë¡œì íŠ¸ì˜ ê° êµ¬í˜„ ìš”ì†Œê°€ ì‹¤ë¬´ ë°ì´í„° ì—”ì§€ë‹ˆì–´ë§ ì—…ë¬´ì— ì–´ë–»ê²Œ ëŒ€ì‘í•˜ëŠ”ì§€ ë§¤í•‘í•©ë‹ˆë‹¤.
    </p>

    <div class="practical-table-wrap">
      <table class="practical-table">
        <thead>
          <tr>
            <th>ì‹¤ë¬´ ëŒ€ì‘ ì˜ì—­</th>
            <th>í”„ë¡œì íŠ¸ êµ¬í˜„</th>
            <th>í•µì‹¬ ì½”ë“œ / ì‚°ì¶œë¬¼</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="highlight">DW/DM ì„¤ê³„Â·êµ¬ì¶•Â·ìš´ì˜</td>
            <td>7ì¢… KPI SQL ì‚°ì¶œ ë¡œì§ ì„¤ê³„<br>ì›ì²œ í…Œì´ë¸” â†’ KPI í…Œì´ë¸” â†’ Tableau ë·°</td>
            <td style="font-family: 'JetBrains Mono', monospace; font-size: 0.72rem; color: #60a5fa;">
              kpi_definitions.sql (367 lines)<br>
              CREATE TABLE kpi_* + CREATE VIEW v_dashboard_*
            </td>
          </tr>
          <tr>
            <td class="highlight">ë¹„ì¦ˆë‹ˆìŠ¤ ë°ì´í„° ëª¨ë¸ ì„¤ê³„</td>
            <td>ì¹´ë“œì‚¬ ì´ìš©ì‹¤ì  â†’ 7ì¢… KPI ì •ì˜<br>ê¸ˆìœµ ë„ë©”ì¸ íŠ¹í™” ì§€í‘œ (HHI, CR3, í™œì„±í™”ìœ¨)</td>
            <td style="font-family: 'JetBrains Mono', monospace; font-size: 0.72rem; color: #60a5fa;">
              HHI = Î£(ì ìœ ìœ¨Â²), CR3 ì„œë¸Œì¿¼ë¦¬<br>
              POWER() + PERCENTILE_CONT()
            </td>
          </tr>
          <tr>
            <td class="highlight">ë°ì´í„° ëª¨ë‹ˆí„°ë§ Â· í’ˆì§ˆ ê´€ë¦¬</td>
            <td>10ì¢… êµì°¨ ì •í•©ì„± ê²€ì¦ + 3ë‹¨ê³„ ì‹¬ê°ë„<br>PASS/FAIL ìë™ ë¶„ê¸° + Slack ì•Œë¦¼ (Webhook ê¸°ë°˜, fallback ë¡œê¹…)</td>
            <td style="font-family: 'JetBrains Mono', monospace; font-size: 0.72rem; color: #60a5fa;">
              run_integrity_checks.py (1,119 lines)<br>
              MetricsIntegrityChecker í´ë˜ìŠ¤
            </td>
          </tr>
          <tr>
            <td class="highlight">[ìš°ëŒ€] Tableau</td>
            <td>3ì¢… ëŒ€ì‹œë³´ë“œ ì„¤ê³„<br>PostgreSQL ë·° ê¸°ë°˜ ë¼ì´ë¸Œ ì—°ê²°</td>
            <td style="font-family: 'JetBrains Mono', monospace; font-size: 0.72rem; color: #60a5fa;">
              v_dashboard_main / v_dashboard_market_structure<br>
              v_integrity_daily_trend
            </td>
          </tr>
          <tr>
            <td class="highlight">[ìš°ëŒ€] ë³´í—˜/ê¸ˆìœµ ë„ë©”ì¸ ì´í•´</td>
            <td>ì—¬ì‹ ê¸ˆìœµí˜‘íšŒ ë°ì´í„° ê¸°ë°˜<br>ì¹´ë“œì‚¬ 8ê°œì‚¬ Ã— ì—…ì¢… 10ì¢… Ã— 24ê°œì›”</td>
            <td style="font-family: 'JetBrains Mono', monospace; font-size: 0.72rem; color: #60a5fa;">
              generate_sample_data.py<br>
              ì‹ í•œ/ì‚¼ì„±/KB/í˜„ëŒ€/ìš°ë¦¬/í•˜ë‚˜/ë¡¯ë°/BC
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Differentiation from ecommerce-event-pipeline -->
    <div style="margin-top: 36px;">
      <div style="font-size: 0.72rem; font-weight: 700; letter-spacing: 0.1em; color: #475176; text-transform: uppercase; margin-bottom: 16px;">vs. ecommerce-event-pipeline â€” ìƒí˜¸ ë³´ì™„ êµ¬ì¡°</div>
      <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
        <div class="glass-card" style="padding: 24px;">
          <div style="font-size: 0.75rem; font-weight: 700; color: #60a5fa; margin-bottom: 10px;">ğŸ“¦ ecommerce-event-pipeline</div>
          <div style="font-size: 0.78rem; color: #7c849a; line-height: 1.7;">
            â€¢ í•µì‹¬ ì—­ëŸ‰: <strong style="color:#c4c9d8;">Airflow ETL ì„¤ê³„Â·ê°œë°œ</strong><br>
            â€¢ ë„ë©”ì¸: ì´ì»¤ë¨¸ìŠ¤ í–‰ë™ ë¡œê·¸<br>
            â€¢ í’ˆì§ˆ ê²€ì¦: 7ì¢… (ë°ì´í„° ë ˆë²¨)<br>
            â€¢ ì‹œê°í™”: ì—†ìŒ<br>
            â€¢ ê°•ì¡°: íŒŒì´í”„ë¼ì¸ ì—”ì§€ë‹ˆì–´ë§
          </div>
        </div>
        <div class="glass-card" style="padding: 24px; border-color: rgba(96,165,250,.2);">
          <div style="font-size: 0.75rem; font-weight: 700; color: #a78bfa; margin-bottom: 10px;">ğŸ“Š metrics-quality-dashboard <span class="badge badge-pass" style="margin-left: 6px;">í˜„ì¬ í”„ë¡œì íŠ¸</span></div>
          <div style="font-size: 0.78rem; color: #7c849a; line-height: 1.7;">
            â€¢ í•µì‹¬ ì—­ëŸ‰: <strong style="color:#c4c9d8;">KPI/DM ì„¤ê³„ + ë°ì´í„° í’ˆì§ˆ</strong><br>
            â€¢ ë„ë©”ì¸: ê¸ˆìœµ (ì¹´ë“œì‚¬ ì´ìš©ì‹¤ì )<br>
            â€¢ í’ˆì§ˆ ê²€ì¦: 10ì¢… (KPI êµì°¨ ê²€ì¦)<br>
            â€¢ ì‹œê°í™”: <strong style="color:#c4c9d8;">Tableau 3ì¢… ëŒ€ì‹œë³´ë“œ</strong><br>
            â€¢ ê°•ì¡°: ë¹„ì¦ˆë‹ˆìŠ¤ ì§€í‘œ ì„¤ê³„ + ëª¨ë‹ˆí„°ë§
          </div>
        </div>
      </div>
    </div>
  </div>
</section>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• 9. FOOTER â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<footer>
  <div class="container">
    <div class="footer-links">
      <a href="https://github.com/jiminnote/metrics-quality-dashboard" target="_blank">
        <i data-lucide="github" style="width:16px;height:16px;"></i> GitHub
      </a>
      <a href="mailto:wlals3968@naver.com">
        <i data-lucide="mail" style="width:16px;height:16px;"></i> Email
      </a>
    </div>
    <p class="copyright">Â© 2026 KPI ì •í•©ì„± ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ. Built with PostgreSQL, Python, Airflow & Tableau.</p>
  </div>
</footer>


<!-- Lucide Icons Init + Dashboard Charts -->
<script>
lucide.createIcons();

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• TAB SWITCHING â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
document.querySelectorAll('.dash-tab').forEach(tab => {
  tab.addEventListener('click', () => {
    document.querySelectorAll('.dash-tab').forEach(t => t.classList.remove('active'));
    document.querySelectorAll('.dash-panel').forEach(p => p.classList.remove('active'));
    tab.classList.add('active');
    const panel = document.getElementById(tab.dataset.tab);
    if (panel) panel.classList.add('active');
    lucide.createIcons();
  });
});

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• CHART.JS DEFAULTS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
Chart.defaults.color = '#6b7490';
Chart.defaults.borderColor = 'rgba(255,255,255,0.04)';
Chart.defaults.font.family = "'Noto Sans KR','Inter',sans-serif";
Chart.defaults.font.size = 11;
Chart.defaults.plugins.legend.labels.usePointStyle = true;
Chart.defaults.plugins.legend.labels.pointStyleWidth = 8;
Chart.defaults.plugins.legend.labels.boxHeight = 7;
Chart.defaults.plugins.legend.labels.padding = 16;
Chart.defaults.plugins.tooltip.backgroundColor = 'rgba(15,20,35,0.95)';
Chart.defaults.plugins.tooltip.titleFont = { weight: '600', size: 12 };
Chart.defaults.plugins.tooltip.bodyFont = { size: 11 };
Chart.defaults.plugins.tooltip.padding = 12;
Chart.defaults.plugins.tooltip.cornerRadius = 8;
Chart.defaults.plugins.tooltip.borderColor = 'rgba(255,255,255,0.08)';
Chart.defaults.plugins.tooltip.borderWidth = 1;

const MONTHS = ['24.01','24.02','24.03','24.04','24.05','24.06','24.07','24.08','24.09','24.10','24.11','24.12',
                '25.01','25.02','25.03','25.04','25.05','25.06','25.07','25.08','25.09','25.10','25.11','25.12'];

const COMPANIES = ['ì‹ í•œì¹´ë“œ','ì‚¼ì„±ì¹´ë“œ','KBêµ­ë¯¼ì¹´ë“œ','í˜„ëŒ€ì¹´ë“œ','ìš°ë¦¬ì¹´ë“œ','í•˜ë‚˜ì¹´ë“œ','ë¡¯ë°ì¹´ë“œ','BCì¹´ë“œ'];

const COLORS = ['#60a5fa','#a78bfa','#f87171','#fbbf24','#34d399','#fb923c','#e879f9','#2dd4bf'];
const COLORS_30 = COLORS.map(c => c + '30');

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• DATA GENERATORS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function seededRandom(seed) {
  let s = seed;
  return function() { s = (s * 16807) % 2147483647; return (s - 1) / 2147483646; };
}

function genUsageData() {
  const rng = seededRandom(42);
  const base = [4200,3800,4000,2800,2200,2100,1800,1500];
  const data = COMPANIES.map((_, ci) => {
    return MONTHS.map((_, mi) => {
      const yr = mi < 12 ? 0 : 1;
      const mo = mi % 12;
      const seasonal = 1 + Math.sin(2*Math.PI*(mo-2)/12)*0.06 + (mo===0?0.03:0) + (mo>=10?0.05:0);
      const growth = 1 + yr * 0.035;
      return Math.round(base[ci] * growth * seasonal * (0.96 + rng()*0.08));
    });
  });
  return data;
}

const usageData = genUsageData();

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• DASHBOARD 1: KPI OVERVIEW â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
// Chart 1: Usage Trend (Line)
new Chart(document.getElementById('chartUsageTrend'), {
  type: 'line',
  data: {
    labels: MONTHS,
    datasets: COMPANIES.slice(0,5).map((name, i) => ({
      label: name,
      data: usageData[i],
      borderColor: COLORS[i],
      backgroundColor: COLORS_30[i],
      borderWidth: 2,
      pointRadius: 0,
      pointHoverRadius: 4,
      tension: 0.3,
      fill: false
    }))
  },
  options: {
    responsive: true,
    maintainAspectRatio: true,
    aspectRatio: 2.2,
    interaction: { mode: 'index', intersect: false },
    plugins: {
      legend: { position: 'bottom' },
      tooltip: {
        callbacks: {
          label: ctx => `${ctx.dataset.label}: ${ctx.parsed.y.toLocaleString()}ë°±ë§Œì›`
        }
      }
    },
    scales: {
      x: { grid: { display: false }, ticks: { maxRotation: 45, font: { size: 10 } } },
      y: {
        grid: { color: 'rgba(255,255,255,0.03)' },
        ticks: { callback: v => (v/1000).toFixed(0)+'K', font: { size: 10 } },
        title: { display: true, text: 'ë°±ë§Œì›', font: { size: 10 } }
      }
    }
  }
});

// Chart 2: Market Share Doughnut
const latestUsage = usageData.map(d => d[d.length-1]);
const totalUsage = latestUsage.reduce((a,b)=>a+b, 0);
const shareData = latestUsage.map(v => Math.round(v/totalUsage*1000)/10);

new Chart(document.getElementById('chartMarketShare'), {
  type: 'doughnut',
  data: {
    labels: COMPANIES,
    datasets: [{
      data: shareData,
      backgroundColor: COLORS,
      borderColor: '#0b0f1a',
      borderWidth: 2,
      hoverOffset: 6
    }]
  },
  options: {
    responsive: true,
    maintainAspectRatio: true,
    aspectRatio: 1.15,
    cutout: '55%',
    plugins: {
      legend: { position: 'right', labels: { font: { size: 10 }, padding: 10 } },
      tooltip: {
        callbacks: { label: ctx => `${ctx.label}: ${ctx.parsed}%` }
      }
    }
  }
});

// Chart 3: Activation Rate Bar
const rng2 = seededRandom(77);
const activationRates = COMPANIES.map(() => Math.round((62 + rng2()*16)*10)/10);
const industryAvg = 70.2;

new Chart(document.getElementById('chartActivation'), {
  type: 'bar',
  data: {
    labels: COMPANIES,
    datasets: [
      {
        label: 'í™œì„±í™”ìœ¨',
        data: activationRates,
        backgroundColor: activationRates.map(v => v >= industryAvg ? 'rgba(52,211,153,0.6)' : 'rgba(248,113,113,0.5)'),
        borderColor: activationRates.map(v => v >= industryAvg ? '#34d399' : '#f87171'),
        borderWidth: 1,
        borderRadius: 6
      },
      {
        label: 'ì—…ê³„ í‰ê· ',
        data: Array(8).fill(industryAvg),
        type: 'line',
        borderColor: '#fbbf24',
        borderWidth: 2,
        borderDash: [6,4],
        pointRadius: 0,
        fill: false
      }
    ]
  },
  options: {
    responsive: true,
    maintainAspectRatio: true,
    aspectRatio: 3.2,
    plugins: {
      legend: { position: 'bottom' },
      tooltip: { callbacks: { label: ctx => `${ctx.dataset.label}: ${ctx.parsed.y}%` } }
    },
    scales: {
      x: { grid: { display: false } },
      y: {
        min: 55, max: 85,
        grid: { color: 'rgba(255,255,255,0.03)' },
        ticks: { callback: v => v + '%', font: { size: 10 } }
      }
    }
  }
});

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• DASHBOARD 2: GROWTH TREND â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
// Generate market total per month
const marketTotal = MONTHS.map((_, mi) => usageData.reduce((sum, comp) => sum + comp[mi], 0));

// MoM / YoY growth
const momGrowth = marketTotal.map((v, i) => i === 0 ? null : Math.round((v/marketTotal[i-1]-1)*10000)/100);
const yoyGrowth = marketTotal.map((v, i) => i < 12 ? null : Math.round((v/marketTotal[i-12]-1)*10000)/100);
const ma3 = momGrowth.map((_, i) => {
  if (i < 2 || momGrowth[i]===null) return null;
  const vals = [momGrowth[i], momGrowth[i-1], momGrowth[i-2]].filter(v=>v!==null);
  return vals.length ? Math.round(vals.reduce((a,b)=>a+b,0)/vals.length*100)/100 : null;
});

new Chart(document.getElementById('chartGrowthRate'), {
  type: 'line',
  data: {
    labels: MONTHS,
    datasets: [
      {
        label: 'MoM ì„±ì¥ë¥  (%)',
        data: momGrowth,
        borderColor: '#60a5fa',
        backgroundColor: 'rgba(96,165,250,0.08)',
        borderWidth: 2, pointRadius: 2, pointHoverRadius: 5,
        tension: 0.3, fill: true
      },
      {
        label: 'YoY ì„±ì¥ë¥  (%)',
        data: yoyGrowth,
        borderColor: '#a78bfa',
        borderWidth: 2, pointRadius: 2, pointHoverRadius: 5,
        borderDash: [4,3], tension: 0.3, fill: false
      },
      {
        label: '3M ì´ë™í‰ê· ',
        data: ma3,
        borderColor: '#fbbf24',
        borderWidth: 2.5, pointRadius: 0,
        tension: 0.4, fill: false
      }
    ]
  },
  options: {
    responsive: true, maintainAspectRatio: true, aspectRatio: 2,
    interaction: { mode: 'index', intersect: false },
    plugins: {
      legend: { position: 'bottom' },
      tooltip: { callbacks: { label: ctx => ctx.parsed.y !== null ? `${ctx.dataset.label}: ${ctx.parsed.y.toFixed(2)}%` : '' } }
    },
    scales: {
      x: { grid: { display: false }, ticks: { maxRotation: 45, font: { size: 10 } } },
      y: {
        grid: { color: 'rgba(255,255,255,0.03)' },
        ticks: { callback: v => v.toFixed(1) + '%', font: { size: 10 } }
      }
    }
  }
});

// HHI Chart
const hhiData = MONTHS.map((_, mi) => {
  const total = usageData.reduce((s, c) => s + c[mi], 0);
  return Math.round(usageData.reduce((s, c) => s + Math.pow(c[mi]/total*100, 2), 0));
});

new Chart(document.getElementById('chartHHI'), {
  type: 'line',
  data: {
    labels: MONTHS,
    datasets: [
      {
        label: 'HHI ì§€ìˆ˜',
        data: hhiData,
        borderColor: '#34d399',
        backgroundColor: 'rgba(52,211,153,0.06)',
        borderWidth: 2.5, pointRadius: 2, pointHoverRadius: 5,
        tension: 0.3, fill: true
      },
      {
        label: 'ê³¼ì  ê¸°ì¤€ì„  (1,500)',
        data: Array(24).fill(1500),
        borderColor: 'rgba(248,113,113,0.4)',
        borderWidth: 1.5, borderDash: [8,4],
        pointRadius: 0, fill: false
      }
    ]
  },
  options: {
    responsive: true, maintainAspectRatio: true, aspectRatio: 2,
    interaction: { mode: 'index', intersect: false },
    plugins: {
      legend: { position: 'bottom' },
      tooltip: { callbacks: { label: ctx => `${ctx.dataset.label}: ${ctx.parsed.y.toLocaleString()}` } }
    },
    scales: {
      x: { grid: { display: false }, ticks: { maxRotation: 45, font: { size: 10 } } },
      y: {
        min: 1100, max: 1700,
        grid: { color: 'rgba(255,255,255,0.03)' },
        ticks: { font: { size: 10 } },
        title: { display: true, text: 'HHI', font: { size: 10 } }
      }
    }
  }
});

// Heatmap: Category Ã— Company
(function buildHeatmap() {
  const categories = ['ìŒì‹ì ','ì£¼ìœ ì†Œ','ëŒ€í˜•ë§ˆíŠ¸','ì˜¨ë¼ì¸ì‡¼í•‘','êµí†µ','ì˜ë£Œ','êµìœ¡','ì—¬í–‰/ìˆ™ë°•','ë³´í—˜','ê¸°íƒ€'];
  const weights = [20,10,14,22,8,7,6,7,3,3];
  const rng = seededRandom(99);

  let html = '<table class="hm-table"><thead><tr><th></th>';
  COMPANIES.forEach(c => { html += `<th>${c.replace('ì¹´ë“œ','')}</th>`; });
  html += '</tr></thead><tbody>';

  categories.forEach((cat, ci) => {
    html += `<tr><td class="row-header">${cat}</td>`;
    COMPANIES.forEach(() => {
      const val = Math.round(weights[ci] * (0.7 + rng()*0.6) * 10) / 10;
      const intensity = Math.min(val / 30, 1);
      const bg = `rgba(96,165,250,${(intensity * 0.5 + 0.04).toFixed(2)})`;
      html += `<td style="background:${bg};color:${intensity>0.4?'#e8eaf0':'#8b93a7'};font-weight:${intensity>0.3?600:400}">${val}</td>`;
    });
    html += '</tr>';
  });
  html += '</tbody></table>';
  document.getElementById('heatmapWrap').innerHTML = html;
})();


/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• DASHBOARD 3: QUALITY MONITORING â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
// Pass Rate Trend (30 days)
const rng3 = seededRandom(2026);
const days30 = Array.from({length:30}, (_, i) => {
  const d = new Date(2026, 1, 14);
  d.setDate(d.getDate() - 29 + i);
  return `${(d.getMonth()+1).toString().padStart(2,'0')}.${d.getDate().toString().padStart(2,'0')}`;
});
const passRates = days30.map(() => {
  const r = rng3();
  return r < 0.08 ? Math.round((92 + rng3()*5)*10)/10 : Math.round((98 + rng3()*2)*10)/10;
});
passRates[passRates.length-1] = 100;

new Chart(document.getElementById('chartPassRate'), {
  type: 'line',
  data: {
    labels: days30,
    datasets: [
      {
        label: 'í†µê³¼ìœ¨ (%)',
        data: passRates,
        borderColor: '#34d399',
        backgroundColor: 'rgba(52,211,153,0.06)',
        borderWidth: 2, pointRadius: 1.5, pointHoverRadius: 5,
        tension: 0.3, fill: true,
        pointBackgroundColor: passRates.map(v => v < 95 ? '#f87171' : '#34d399')
      },
      {
        label: 'ëª©í‘œì„  (95%)',
        data: Array(30).fill(95),
        borderColor: 'rgba(251,191,36,0.4)',
        borderWidth: 1.5, borderDash: [8,4],
        pointRadius: 0, fill: false
      }
    ]
  },
  options: {
    responsive: true, maintainAspectRatio: true, aspectRatio: 2.2,
    interaction: { mode: 'index', intersect: false },
    plugins: { legend: { position: 'bottom' } },
    scales: {
      x: { grid: { display: false }, ticks: { maxRotation: 45, font: { size: 9 }, maxTicksLimit: 15 } },
      y: {
        min: 88, max: 101,
        grid: { color: 'rgba(255,255,255,0.03)' },
        ticks: { callback: v => v + '%', font: { size: 10 } }
      }
    }
  }
});

// Severity Distribution Doughnut
new Chart(document.getElementById('chartSeverity'), {
  type: 'doughnut',
  data: {
    labels: ['CRITICAL (4ì¢…)', 'WARNING (5ì¢…)', 'INFO (1ì¢…)'],
    datasets: [{
      data: [35, 42, 10],
      backgroundColor: ['rgba(248,113,113,0.7)', 'rgba(251,191,36,0.7)', 'rgba(96,165,250,0.7)'],
      borderColor: '#0b0f1a',
      borderWidth: 2,
      hoverOffset: 6
    }]
  },
  options: {
    responsive: true, maintainAspectRatio: true, aspectRatio: 1.15,
    cutout: '55%',
    plugins: {
      legend: { position: 'right', labels: { font: { size: 10 }, padding: 10 } },
      tooltip: { callbacks: { label: ctx => `${ctx.label}: ${ctx.parsed}ê±´` } }
    }
  }
});

// Pass/Fail Matrix (10 checks Ã— 7 days)
(function buildMatrix() {
  const checks = [
    'í•©ê³„ ì •í•©ì„±','ì ìœ ìœ¨ = 100%','ì—…ì¢… ë¹„ìœ¨','MoM ì—­ì‚°','YoY ì—­ì‚°',
    'í™œì„±í™”ìœ¨ ë²”ìœ„','ë°ì´í„° ì—°ì†ì„±','HHI ë²”ìœ„','Z-Score ì´ìƒì¹˜','êµì°¨ ê²€ì¦'
  ];
  const sevColors = {0:'#f87171',1:'#f87171',2:'#fbbf24',3:'#fbbf24',4:'#fbbf24',5:'#f87171',6:'#f87171',7:'#fbbf24',8:'#fbbf24',9:'#60a5fa'};
  const rng = seededRandom(314);
  const recentDays = days30.slice(-7);

  let html = '<table class="mx-table"><thead><tr><th style="text-align:left;">ê²€ì¦ í•­ëª©</th>';
  recentDays.forEach(d => { html += `<th>${d}</th>`; });
  html += '</tr></thead><tbody>';

  checks.forEach((check, ci) => {
    html += `<tr><td class="row-header">${check}</td>`;
    recentDays.forEach(() => {
      const pass = rng() > 0.06;
      if (pass) {
        html += '<td><span style="color:#34d399;font-weight:700;font-size:0.8rem;">âœ“</span></td>';
      } else {
        html += `<td><span style="color:${sevColors[ci]};font-weight:700;font-size:0.8rem;">âœ—</span></td>`;
      }
    });
    html += '</tr>';
  });
  html += '</tbody></table>';
  document.getElementById('matrixWrap').innerHTML = html;
})();
</script>

</body>
</html>
